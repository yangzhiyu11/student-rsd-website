<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>增加功能</title>
        <script type="text/javascript">
            function checkForm() {
                var name = document.getElementById("name");

                if (name.value == "") {
                    alert("名称不能为空！");
                    return;
                }

                var xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function () {
                    if (xhr.readyState == 4 && xhr.status == 200) {
                        if (xhr.responseText == "true") {
                            alert("保存成功！")
                            location.href = "/sysFunction/list.html";
                        } else {
                            alert("保存失败！")
                        }
                    }
                };
                xhr.open("post","/sysFunction/doAdd",true);
                xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");
                xhr.send("name="+name.value);
            }
        </script>
    </head>
    <body>
        名称<input type="text" name="name" id="name" />
        <input type="button" value="保存" onclick="checkForm();" />
    </body>
</html>